{"ast":null,"code":"var _jsxFileName = \"/Users/alinaenache/Documents/tidpp/ui/src/pages/Product.page.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { HOST } from '../env';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductPage = props => {\n  _s();\n\n  let {\n    id\n  } = props.match.params;\n  const [prodName, setProdName] = useState('');\n  const [prodDesc, setProdDesc] = useState('');\n  const [prodPrice, setProdPrice] = useState(0);\n  const [product, setProduct] = useState([]);\n  const [message, setMessage] = useState('');\n  const [editForm, setEditForm] = useState(false);\n\n  const modifyHandler = e => {\n    e.preventDefault();\n    fetch(`${HOST}/products/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        prodName,\n        prodDesc,\n        prodPrice\n      })\n    }).then(response => response.json()).then(data => {\n      setMessage(data);\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      fetch(`${HOST}/products/${id}`, {\n        method: 'GET'\n      }).then(result => result.json()).then(data => {\n        if (data.status) {\n          setProdName(data.data[0]['product_title']);\n          setProdDesc(data.data[0]['product_desc']);\n          setProdPrice(data.data[0]['product_price']);\n          setProduct(data.data);\n        } else {\n          setTimeout(() => {\n            setMessage('');\n          }, 5000);\n          setMessage(data);\n        }\n      });\n    }\n  }, [id, message]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [message.status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: message.status ? 'text-success' : 'text-danger',\n      children: message.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), product.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: product[0]['product_title']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: product[0]['product_desc']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [product[0]['product_price'], \" $\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => {\n          setEditForm(!editForm);\n        },\n        style: {\n          marginRight: '20px'\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/',\n        className: \"btn btn-success\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true) : null, editForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"/products\",\n          method: \"put\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"prodName\",\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"prodName\",\n              type: \"text\",\n              value: prodName,\n              className: \"form-control\",\n              id: \"prodName\",\n              placeholder: \"Enter product name\",\n              onChange: e => setProdName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"prodDesc\",\n              children: \"Product description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"prodDesc\",\n              type: \"text\",\n              value: prodDesc,\n              className: \"form-control\",\n              id: \"prodDesc\",\n              placeholder: \"Enter product description\",\n              onChange: e => setProdDesc(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"prodPrice\",\n              children: \"Product Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"prodPrice\",\n              type: \"number\",\n              min: \"0\",\n              value: prodPrice,\n              onChange: e => setProdPrice(e.target.value),\n              className: \"form-control\",\n              id: \"prodPrice\",\n              placeholder: \"Enter product price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            onClick: modifyHandler,\n            children: \"Apply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)\n    }, void 0, false) : null]\n  }, void 0, true);\n};\n\n_s(ProductPage, \"cgT6/FA9LSBZ7BjwD6sI5XcxfVQ=\");\n\n_c = ProductPage;\nexport default ProductPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"sources":["/Users/alinaenache/Documents/tidpp/ui/src/pages/Product.page.jsx"],"names":["React","useEffect","useState","HOST","Link","ProductPage","props","id","match","params","prodName","setProdName","prodDesc","setProdDesc","prodPrice","setProdPrice","product","setProduct","message","setMessage","editForm","setEditForm","modifyHandler","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","result","status","setTimeout","length","marginRight","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { HOST } from '../env'\nimport { Link } from 'react-router-dom'\n\nconst ProductPage = (props) => {\n\tlet {id} = props.match.params\n\n\tconst [prodName, setProdName] = useState('')\n\tconst [prodDesc, setProdDesc] = useState('')\n\tconst [prodPrice, setProdPrice] = useState(0)\n\n\tconst [product, setProduct] = useState([])\n\tconst [message, setMessage] = useState('')\n\tconst [editForm, setEditForm] = useState(false)\n\n\tconst modifyHandler = (e) => {\n\t\te.preventDefault()\n\n\t\tfetch(`${HOST}/products/${id}`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tprodName,\n\t\t\t\tprodDesc,\n\t\t\t\tprodPrice,\n\t\t\t}),\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tsetMessage(data)\n\t\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (id) {\n\t\t\tfetch(`${HOST}/products/${id}`, {\n\t\t\t\tmethod: 'GET',\n\t\t\t})\n\t\t\t\t.then(result => result.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\tsetProdName(data.data[0]['product_title'])\n\t\t\t\t\t\tsetProdDesc(data.data[0]['product_desc'])\n\t\t\t\t\t\tsetProdPrice(data.data[0]['product_price'])\n\t\t\t\t\t\tsetProduct(data.data)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage('')\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t\tsetMessage(data)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t}, [id, message])\n\n\treturn (\n\t\t<>\n\t\t\t{message.status && <p className={message.status ? 'text-success' : 'text-danger'}>{message.message}</p>}\n\t\t\t<br />\n\t\t\t{\n\t\t\t\tproduct.length ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2>{product[0]['product_title']}</h2>\n\t\t\t\t\t\t<p>{product[0]['product_desc']}</p>\n\t\t\t\t\t\t<p>{product[0]['product_price']} $</p>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetEditForm(!editForm)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tmarginRight: '20px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<Link to={'/'} className=\"btn btn-success\">\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</>\n\t\t\t\t) : null\n\t\t\t}\n\n\t\t\t{\n\t\t\t\teditForm ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<form action=\"/products\" method=\"put\">\n\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"prodName\">Product Name</label>\n\t\t\t\t\t\t\t\t\t<input name=\"prodName\" type=\"text\" value={prodName} className=\"form-control\"\n\t\t\t\t\t\t\t\t\t       id=\"prodName\"\n\t\t\t\t\t\t\t\t\t       placeholder=\"Enter product name\"\n\t\t\t\t\t\t\t\t\t       onChange={(e) => setProdName(e.target.value)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"prodDesc\">Product description</label>\n\t\t\t\t\t\t\t\t\t<input name=\"prodDesc\" type=\"text\" value={prodDesc} className=\"form-control\"\n\t\t\t\t\t\t\t\t\t       id=\"prodDesc\"\n\t\t\t\t\t\t\t\t\t       placeholder=\"Enter product description\"\n\t\t\t\t\t\t\t\t\t       onChange={(e) => setProdDesc(e.target.value)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"prodPrice\">Product Price</label>\n\t\t\t\t\t\t\t\t\t<input name=\"prodPrice\" type=\"number\" min=\"0\" value={prodPrice}\n\t\t\t\t\t\t\t\t\t       onChange={(e) => setProdPrice(e.target.value)} className=\"form-control\"\n\t\t\t\t\t\t\t\t\t       id=\"prodPrice\"\n\t\t\t\t\t\t\t\t\t       placeholder=\"Enter product price\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\" onClick={modifyHandler}>Apply</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</>\n\t)\n}\n\nexport default ProductPage\n"]},"metadata":{},"sourceType":"module"}